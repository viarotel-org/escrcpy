import{_ as s,c as i,o as a,aj as e}from"./chunks/framework.MtKKuSHf.js";const y=JSON.parse('{"title":"Connection","description":"","frontmatter":{},"headers":[],"relativePath":"reference/scrcpy/connection.md","filePath":"en/reference/scrcpy/connection.md","lastUpdated":1747291551000}'),t={name:"reference/scrcpy/connection.md"},n=e(`<h1 id="connection" tabindex="-1">Connection <a class="header-anchor" href="#connection" aria-label="Permalink to &quot;Connection&quot;">​</a></h1><h2 id="selection" tabindex="-1">Selection <a class="header-anchor" href="#selection" aria-label="Permalink to &quot;Selection&quot;">​</a></h2><p>If exactly one device is connected (i.e. listed by <code>adb devices</code>), then it is automatically selected.</p><p>However, if there are multiple devices connected, you must specify the one to use in one of 4 ways:</p><ul><li>by its serial:<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --serial=0123456789abcdef</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0123456789abcdef</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   # short version</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># the serial is the ip:port if connected over TCP/IP (same behavior as adb)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --serial=192.168.1.1:5555</span></span></code></pre></div></li><li>the one connected over USB (if there is exactly one):<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --select-usb</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   # short version</span></span></code></pre></div></li><li>the one connected over TCP/IP (if there is exactly one):<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --select-tcpip</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -e</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   # short version</span></span></code></pre></div></li><li>a device already listening on TCP/IP (see <a href="#tcpip-wireless">below</a>):<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --tcpip=192.168.1.1:5555</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --tcpip=192.168.1.1</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # default port is 5555</span></span></code></pre></div></li></ul><p>The serial may also be provided via the environment variable <code>ANDROID_SERIAL</code> (also used by <code>adb</code>):</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># in bash</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ANDROID_SERIAL</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">0123456789abcdef</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span></span></code></pre></div><div class="language-cmd vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cmd</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> cmd</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">set </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ANDROID_SERIAL</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">0123456789abcdef</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">scrcpy</span></span></code></pre></div><div class="language-powershell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># in PowerShell</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">env:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ANDROID_SERIAL </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;0123456789abcdef&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">scrcpy</span></span></code></pre></div><h2 id="tcp-ip-wireless" tabindex="-1">TCP/IP (wireless) <a class="header-anchor" href="#tcp-ip-wireless" aria-label="Permalink to &quot;TCP/IP (wireless)&quot;">​</a></h2><p><em>Scrcpy</em> uses <code>adb</code> to communicate with the device, and <code>adb</code> can <a href="https://developer.android.com/studio/command-line/adb.html#wireless" target="_blank" rel="noreferrer">connect</a> to a device over TCP/IP. The device must be connected on the same network as the computer.</p><h3 id="automatic" tabindex="-1">Automatic <a class="header-anchor" href="#automatic" aria-label="Permalink to &quot;Automatic&quot;">​</a></h3><p>An option <code>--tcpip</code> allows to configure the connection automatically. There are two variants.</p><p>If <em>adb</em> TCP/IP mode is disabled on the device (or if you don&#39;t know the IP address), connect the device over USB, then run:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --tcpip</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   # without arguments</span></span></code></pre></div><p>It will automatically find the device IP address and adb port, enable TCP/IP mode if necessary, then connect to the device before starting.</p><p>If the device (accessible at 192.168.1.1 in this example) already listens on a port (typically 5555) for incoming <em>adb</em> connections, then run:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --tcpip=192.168.1.1</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">       # default port is 5555</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --tcpip=192.168.1.1:5555</span></span></code></pre></div><p>Prefix the address with a &#39;+&#39; to force a reconnection:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --tcpip=+192.168.1.1</span></span></code></pre></div><h3 id="manual" tabindex="-1">Manual <a class="header-anchor" href="#manual" aria-label="Permalink to &quot;Manual&quot;">​</a></h3><p>Alternatively, it is possible to enable the TCP/IP connection manually using <code>adb</code>:</p><ol><li><p>Plug the device into a USB port on your computer.</p></li><li><p>Connect the device to the same Wi-Fi network as your computer.</p></li><li><p>Get your device IP address, in Settings → About phone → Status, or by executing this command:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">adb</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> shell</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> route</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> awk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;{print $9}&#39;</span></span></code></pre></div></li><li><p>Enable <code>adb</code> over TCP/IP on your device: <code>adb tcpip 5555</code>.</p></li><li><p>Unplug your device.</p></li><li><p>Connect to your device: <code>adb connect DEVICE_IP:5555</code> <em>(replace <code>DEVICE_IP</code> with the device IP address you found)</em>.</p></li><li><p>Run <code>scrcpy</code> as usual.</p></li><li><p>Run <code>adb disconnect</code> once you&#39;re done.</p></li></ol><p>Since Android 11, a <a href="https://developer.android.com/studio/command-line/adb#wireless-android11-command-line" target="_blank" rel="noreferrer">wireless debugging option</a> allows you to bypass having to physically connect your device to your computer.</p><h2 id="autostart" tabindex="-1">Autostart <a class="header-anchor" href="#autostart" aria-label="Permalink to &quot;Autostart&quot;">​</a></h2><p>A small tool (by the scrcpy author) allows you to run arbitrary commands whenever a new Android device is connected: <a href="https://github.com/rom1v/autoadb" target="_blank" rel="noreferrer">AutoAdb</a>. It can be used to start scrcpy:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">autoadb</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;{}&#39;</span></span></code></pre></div>`,27),l=[n];function p(h,c,o,d,r,k){return a(),i("div",null,l)}const u=s(t,[["render",p]]);export{y as __pageData,u as default};
