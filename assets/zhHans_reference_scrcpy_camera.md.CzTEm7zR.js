import{_ as s,c as a,o as i,aj as e}from"./chunks/framework.MtKKuSHf.js";const y=JSON.parse('{"title":"Camera（相机）","description":"","frontmatter":{"title":"Camera（相机）"},"headers":[],"relativePath":"zhHans/reference/scrcpy/camera.md","filePath":"zhHans/reference/scrcpy/camera.md","lastUpdated":1744959560000}'),n={name:"zhHans/reference/scrcpy/camera.md"},p=e(`<h1 id="相机" tabindex="-1">相机 <a class="header-anchor" href="#相机" aria-label="Permalink to &quot;相机&quot;">​</a></h1><p>支持在运行 Android 12 或更高版本的设备上使用相机镜像功能。</p><p>若要捕获相机画面而非设备屏幕，请运行以下命令：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>scrcpy --video-source=camera</span></span></code></pre></div><p>默认情况下，该命令会自动将<a href="/zhHans/reference/scrcpy/audio#source">音频源</a>切换为麦克风（相当于同时传递了 <code>--audio-source=mic</code> 参数）。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --video-source=display</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 默认音频源为输出（output）  </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --video-source=camera</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   # 默认音频源为麦克风（mic）  </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --video-source=display</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --audio-source=mic</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 强制显示画面并使用麦克风  </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --video-source=camera</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --audio-source=output</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 强制使用相机画面并捕获设备音频输出</span></span></code></pre></div><p>可以禁用音频：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 完全不捕获音频  </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --video-source=camera</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --no-audio</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --video-source=camera</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --no-audio</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --record=file.mp4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 捕获并录制音频，但不播放  </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --video-source=camera</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --no-audio-playback</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --record=file.mp4</span></span></code></pre></div><h2 id="列表" tabindex="-1">列表 <a class="header-anchor" href="#列表" aria-label="Permalink to &quot;列表&quot;">​</a></h2><p>列出可用的相机（包括其声明的有效尺寸和帧率）：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>scrcpy --list-cameras  </span></span>
<span class="line"><span>scrcpy --list-camera-sizes</span></span></code></pre></div><p><em>请注意，尺寸和帧率是声明性的。并非所有设备都能准确支持：有些设备声明的参数实际上不支持，而有些未声明的参数却可能支持。</em></p><h2 id="选择" tabindex="-1">选择 <a class="header-anchor" href="#选择" aria-label="Permalink to &quot;选择&quot;">​</a></h2><p>可以通过传递明确的相机 ID（通过 <code>--list-cameras</code> 列出）来选择相机：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>scrcpy --video-source=camera --camera-id=0</span></span></code></pre></div><p>或者，可以自动选择相机：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --video-source=camera</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                           # 使用第一个相机  </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --video-source=camera</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --camera-facing=front</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     # 使用第一个前置相机  </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --video-source=camera</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --camera-facing=back</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      # 使用第一个后置相机  </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --video-source=camera</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --camera-facing=external</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 使用第一个外接相机</span></span></code></pre></div><p>如果指定了 <code>--camera-id</code>，则禁止使用 <code>--camera-facing</code>（因为 ID 已经确定了相机）：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --video-source=camera</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --camera-id=0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --camera-facing=front</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 错误</span></span></code></pre></div><h3 id="尺寸选择" tabindex="-1">尺寸选择 <a class="header-anchor" href="#尺寸选择" aria-label="Permalink to &quot;尺寸选择&quot;">​</a></h3><p>可以传递明确的相机尺寸：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>scrcpy --video-source=camera --camera-size=1920x1080</span></span></code></pre></div><p>给定的尺寸可以是声明的有效尺寸之一（通过 <code>--list-camera-sizes</code> 列出），也可以是其他任意尺寸（某些设备支持任意尺寸）：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>scrcpy --video-source=camera --camera-size=1840x444</span></span></code></pre></div><p>或者，可以自动选择一个声明的有效尺寸（通过 <code>list-camera-sizes</code> 列出）。</p><p>支持两种约束条件：</p><ul><li><code>-m</code>/<code>--max-size</code>（已用于显示镜像），例如 <code>-m1920</code>；</li><li><code>--camera-ar</code> 用于指定宽高比（格式为 <code>&lt;num&gt;:&lt;den&gt;</code>、<code>&lt;value&gt;</code> 或 <code>sensor</code>）。</li></ul><p>示例：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --video-source=camera</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                          # 使用最大宽度及其关联的最大高度  </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --video-source=camera</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m1920</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                   # 使用不超过 1920 的最大宽度及其关联的最大高度  </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --video-source=camera</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --camera-ar=4:3</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">          # 使用宽高比为 4:3（误差 +/- 10%）的最大尺寸  </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --video-source=camera</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --camera-ar=1.6</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">          # 使用宽高比为 1.6（误差 +/- 10%）的最大尺寸  </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --video-source=camera</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --camera-ar=sensor</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">       # 使用与相机传感器宽高比（误差 +/- 10%）匹配的最大尺寸  </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --video-source=camera</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m1920</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --camera-ar=16:9</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 使用不超过 1920 的最大宽度，并最接近 16:9 的宽高比</span></span></code></pre></div><p>如果指定了 <code>--camera-size</code>，则禁止使用 <code>-m</code>/<code>--max-size</code> 和 <code>--camera-ar</code>（尺寸已由显式给定的值确定）：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --video-source=camera</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --camera-size=1920x1080</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m3000</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 错误</span></span></code></pre></div><h2 id="旋转" tabindex="-1">旋转 <a class="header-anchor" href="#旋转" aria-label="Permalink to &quot;旋转&quot;">​</a></h2><p>若要旋转捕获的视频，请使用<a href="/zhHans/reference/scrcpy/video#orientation">视频方向</a>选项：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>scrcpy --video-source=camera --camera-size=1920x1080 --orientation=90</span></span></code></pre></div><h2 id="帧率" tabindex="-1">帧率 <a class="header-anchor" href="#帧率" aria-label="Permalink to &quot;帧率&quot;">​</a></h2><p>默认情况下，相机以 Android 的默认帧率（30 fps）捕获。</p><p>若要配置不同的帧率：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>scrcpy --video-source=camera --camera-fps=60</span></span></code></pre></div><h2 id="高速捕获" tabindex="-1">高速捕获 <a class="header-anchor" href="#高速捕获" aria-label="Permalink to &quot;高速捕获&quot;">​</a></h2><p>Android 相机 API 还支持<a href="https://developer.android.com/reference/android/hardware/camera2/CameraConstrainedHighSpeedCaptureSession" target="_blank" rel="noreferrer">高速捕获模式</a>。</p><p>此模式仅限于特定的分辨率和帧率，通过 <code>--list-camera-sizes</code> 列出。</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>scrcpy --video-source=camera --camera-size=1920x1080 --camera-fps=240</span></span></code></pre></div><h2 id="花括号扩展技巧" tabindex="-1">花括号扩展技巧 <a class="header-anchor" href="#花括号扩展技巧" aria-label="Permalink to &quot;花括号扩展技巧&quot;">​</a></h2><p>所有相机选项均以 <code>--camera-</code> 开头，因此如果您的 shell 支持，可以利用<a href="https://www.gnu.org/software/bash/manual/html_node/Brace-Expansion.html" target="_blank" rel="noreferrer">花括号扩展</a>（例如，bash 和 zsh 支持）：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --video-source=camera</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --camera-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{facing</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">back,</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ar</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">16:9,high-speed,</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">fps</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">120</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>这将扩展为：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --video-source=camera</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --camera-facing=back</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --camera-ar=16:9</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --camera-high-speed</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --camera-fps=120</span></span></code></pre></div><h2 id="网络摄像头" tabindex="-1">网络摄像头 <a class="header-anchor" href="#网络摄像头" aria-label="Permalink to &quot;网络摄像头&quot;">​</a></h2><p>在 Linux 上结合 <a href="/zhHans/reference/scrcpy/v4l2">V4L2</a> 功能，可以将 Android 设备相机用作计算机上的网络摄像头。</p>`,49),t=[p];function h(l,c,r,d,k,o){return i(),a("div",null,t)}const C=s(n,[["render",h]]);export{y as __pageData,C as default};
