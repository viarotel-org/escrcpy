import{_ as s,c as i,o as a,aj as e}from"./chunks/framework.MtKKuSHf.js";const g=JSON.parse('{"title":"device（设备控制）","description":"","frontmatter":{"title":"device（设备控制）"},"headers":[],"relativePath":"zhHans/reference/scrcpy/device.md","filePath":"zhHans/reference/scrcpy/device.md","lastUpdated":1743577564000}'),t={name:"zhHans/reference/scrcpy/device.md"},p=e(`<h1 id="设备控制" tabindex="-1">设备控制 <a class="header-anchor" href="#设备控制" aria-label="Permalink to &quot;设备控制&quot;">​</a></h1><p>某些命令行参数可以在scrcpy运行时对设备本身执行操作。</p><h2 id="保持唤醒" tabindex="-1">保持唤醒 <a class="header-anchor" href="#保持唤醒" aria-label="Permalink to &quot;保持唤醒&quot;">​</a></h2><p>当设备通过有线连接时，防止设备延迟休眠：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --stay-awake</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -w</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 简写形式</span></span></code></pre></div><p>scrcpy关闭时将恢复初始状态。</p><p>如果设备未通过有线连接（即仅通过TCP/IP连接），<code>--stay-awake</code>参数无效（这是Android系统的特性）。</p><p>该功能通过修改<a href="https://developer.android.com/reference/android/provider/Settings.Global#STAY_ON_WHILE_PLUGGED_IN" target="_blank" rel="noreferrer"><code>stay_on_while_plugged_in</code></a>设置实现，也可手动调整：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 获取当前stay_on_while_plugged_in值</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">adb</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> shell</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> settings</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> global</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stay_on_while_plugged_in</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 为AC/USB/无线充电器启用保持唤醒</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">adb</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> shell</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> settings</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> put</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> global</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stay_on_while_plugged_in</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 7</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 禁用保持唤醒</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">adb</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> shell</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> settings</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> put</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> global</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stay_on_while_plugged_in</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span></code></pre></div><h2 id="屏幕关闭超时" tabindex="-1">屏幕关闭超时 <a class="header-anchor" href="#屏幕关闭超时" aria-label="Permalink to &quot;屏幕关闭超时&quot;">​</a></h2><p>Android屏幕会在一定延迟后自动关闭。</p><p>在scrcpy运行时修改此延迟：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --screen-off-timeout=300</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 300秒（5分钟）</span></span></code></pre></div><p>退出时将恢复原始值。</p><p>也可手动修改此设置：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 获取当前screen_off_timeout值</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">adb</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> shell</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> settings</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> system</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> screen_off_timeout</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 设置新值（单位毫秒）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">adb</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> shell</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> settings</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> put</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> system</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> screen_off_timeout</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 30000</span></span></code></pre></div><p>注意：Android系统值的单位是毫秒，而scrcpy命令行参数的单位是秒。</p><h2 id="关闭屏幕" tabindex="-1">关闭屏幕 <a class="header-anchor" href="#关闭屏幕" aria-label="Permalink to &quot;关闭屏幕&quot;">​</a></h2><p>可以在镜像开始时通过命令行选项关闭设备屏幕：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --turn-screen-off</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 简写形式</span></span></code></pre></div><p>或随时按下<kbd>MOD</kbd>+<kbd>o</kbd>组合键（参见<a href="/zhHans/reference/scrcpy/shortcuts">快捷键</a>）。</p><p>按<kbd>MOD</kbd>+<kbd>Shift</kbd>+<kbd>o</kbd>可重新打开屏幕。</p><p>在Android设备上，物理<code>POWER</code>键总是会唤醒屏幕。为方便起见，通过scrcpy发送<code>POWER</code>指令（右键点击或<kbd>MOD</kbd>+<kbd>p</kbd>）会强制在一小段延迟后关闭屏幕（尽力而为）。物理<code>POWER</code>键仍会唤醒屏幕。</p><p>此功能也可用于防止设备休眠：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --turn-screen-off</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --stay-awake</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Sw</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 简写形式</span></span></code></pre></div><p>从Android 15开始，可以手动修改此设置：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 关闭屏幕（0表示主显示屏）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">adb</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> shell</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cmd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> display</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> power-off</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 打开屏幕</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">adb</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> shell</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cmd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> display</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> power-on</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span></code></pre></div><h2 id="显示触摸痕迹" tabindex="-1">显示触摸痕迹 <a class="header-anchor" href="#显示触摸痕迹" aria-label="Permalink to &quot;显示触摸痕迹&quot;">​</a></h2><p>在进行演示时，显示物理触摸痕迹（在物理设备上）可能很有用。Android在开发者选项中提供了此功能。</p><p>scrcpy提供了在启动时启用此功能并在退出时恢复初始值的选项：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --show-touches</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -t</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 简写形式</span></span></code></pre></div><p>注意：此功能仅显示物理触摸痕迹（手指在设备上的触摸）。</p><p>可以手动修改此设置：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 获取当前show_touches值</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">adb</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> shell</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> settings</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> system</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> show_touches</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 启用show_touches</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">adb</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> shell</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> settings</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> put</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> system</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> show_touches</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 禁用show_touches</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">adb</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> shell</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> settings</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> put</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> system</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> show_touches</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span></code></pre></div><h2 id="关闭时断电" tabindex="-1">关闭时断电 <a class="header-anchor" href="#关闭时断电" aria-label="Permalink to &quot;关闭时断电&quot;">​</a></h2><p>在关闭scrcpy时关闭设备屏幕：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --power-off-on-close</span></span></code></pre></div><h2 id="启动时通电" tabindex="-1">启动时通电 <a class="header-anchor" href="#启动时通电" aria-label="Permalink to &quot;启动时通电&quot;">​</a></h2><p>默认情况下，启动时会唤醒设备。禁用此行为：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --no-power-on</span></span></code></pre></div><h2 id="启动android应用" tabindex="-1">启动Android应用 <a class="header-anchor" href="#启动android应用" aria-label="Permalink to &quot;启动Android应用&quot;">​</a></h2><p>列出设备上安装的Android应用：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --list-apps</span></span></code></pre></div><p>可以通过包名在启动时运行指定应用：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --start-app=org.mozilla.firefox</span></span></code></pre></div><p>此功能可用于在<a href="./virtual_display">虚拟显示器</a>中运行应用：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --new-display=1920x1080</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --start-app=org.videolan.vlc</span></span></code></pre></div><p>可以在启动应用前强制停止它，只需添加<code>+</code>前缀：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --start-app=+org.mozilla.firefox</span></span></code></pre></div><p>为方便起见，也可以通过应用名称选择应用，需添加<code>?</code>前缀：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --start-app=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">firefox</span></span></code></pre></div><p>但检索应用名称可能需要一些时间（有时需要几秒），因此建议直接使用包名。</p><p><code>+</code>和<code>?</code>前缀可以组合使用（按此顺序）：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --start-app=+</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">firefox</span></span></code></pre></div>`,54),h=[p];function n(l,k,d,r,c,o){return a(),i("div",null,h)}const y=s(t,[["render",n]]);export{g as __pageData,y as default};
