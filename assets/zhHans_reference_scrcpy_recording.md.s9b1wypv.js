import{_ as s,c as a,o as i,aj as e}from"./chunks/framework.MtKKuSHf.js";const C=JSON.parse('{"title":"Recording（录制）","description":"","frontmatter":{"title":"Recording（录制）"},"headers":[],"relativePath":"zhHans/reference/scrcpy/recording.md","filePath":"zhHans/reference/scrcpy/recording.md","lastUpdated":1747291551000}'),t={name:"zhHans/reference/scrcpy/recording.md"},n=e(`<h1 id="录制" tabindex="-1">录制 <a class="header-anchor" href="#录制" aria-label="Permalink to &quot;录制&quot;">​</a></h1><p>在镜像时录制视频和音频流：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --record=file.mp4</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> file.mkv</span></span></code></pre></div><p>仅录制视频：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --no-audio</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --record=file.mp4</span></span></code></pre></div><p>仅录制音频：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --no-video</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --record=file.opus</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --no-video</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --audio-codec=aac</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --record=file.aac</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --no-video</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --audio-codec=flac</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --record=file.flac</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --no-video</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --audio-codec=raw</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --record=file.wav</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># .m4a/.mp4 和 .mka/.mkv 也支持 opus、aac 和 flac 格式</span></span></code></pre></div><p>时间戳在设备端捕获，因此<a href="https://en.wikipedia.org/wiki/Packet_delay_variation" target="_blank" rel="noreferrer">数据包延迟变化</a>不会影响录制的文件（前提是使用 <code>--record</code> 选项，而不是在计算机上捕获 scrcpy 窗口和音频输出时）。</p><h2 id="格式" tabindex="-1">格式 <a class="header-anchor" href="#格式" aria-label="Permalink to &quot;格式&quot;">​</a></h2><p>视频和音频流在设备端编码，但在客户端混合。支持多种格式（容器）：</p><ul><li>MP4（<code>.mp4</code>、<code>.m4a</code>、<code>.aac</code>）</li><li>Matroska（<code>.mkv</code>、<code>.mka</code>）</li><li>OPUS（<code>.opus</code>）</li><li>FLAC（<code>.flac</code>）</li><li>WAV（<code>.wav</code>）</li></ul><p>容器会根据文件名自动选择。</p><p>也可以显式选择容器（此时文件名无需以已知扩展名结尾）：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --record=file</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --record-format=mkv</span></span></code></pre></div><h2 id="旋转" tabindex="-1">旋转 <a class="header-anchor" href="#旋转" aria-label="Permalink to &quot;旋转&quot;">​</a></h2><p>可以录制旋转的视频。参见<a href="/zhHans/reference/scrcpy/video#orientation">视频方向</a>。</p><h2 id="无播放" tabindex="-1">无播放 <a class="header-anchor" href="#无播放" aria-label="Permalink to &quot;无播放&quot;">​</a></h2><p>在录制时禁用播放和控制：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --no-playback</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --no-control</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --record=file.mp4</span></span></code></pre></div><p>也可以分别禁用视频和音频播放：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 录制视频和音频，但仅播放视频</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --record=file.mkv</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --no-audio-playback</span></span></code></pre></div><p>同时禁用窗口：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --no-playback</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --no-window</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --record=file.mp4</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 使用 Ctrl+C 中断录制</span></span></code></pre></div><h2 id="时间限制" tabindex="-1">时间限制 <a class="header-anchor" href="#时间限制" aria-label="Permalink to &quot;时间限制&quot;">​</a></h2><p>限制录制时间：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --record=file.mkv</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --time-limit=20</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 单位为秒</span></span></code></pre></div><p><code>--time-limit</code> 选项不仅限于录制，也会影响简单的镜像：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrcpy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --time-limit=20</span></span></code></pre></div>`,28),p=[n];function l(h,c,d,r,o,k){return i(),a("div",null,p)}const y=s(t,[["render",l]]);export{C as __pageData,y as default};
